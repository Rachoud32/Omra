<owl-carousel-o [options]="customOptions" id="slider">
  <ng-template carouselSlide class="slider-wrapper">
    <div
      class="slider-slide-bg"
      style="
        background: url('../assets/slider/1.jpg') 100% 50%;
        z-index: 1;
        background-size: cover;
      "
    >
      <div class="container">
        <div class="slider-caption d-block position-relative h-100">
          <h3 data-animate="fadeInDown">Welcome to</h3>
          <h2 data-animate="fadeInDown">EL KSAR Hotel<br />& Resort</h2>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template carouselSlide>
    <div
      class="slider-slide-bg"
      style="
        background: url('../assets/slider/2.jpg') 100% 50%;
        z-index: 1;
        background-size: cover;
      "
    >
      <div class="container">
        <div class="slider-caption d-block position-relative h-100">
          <h3 data-animate="fadeInDown">Welcome to</h3>
          <h2 data-animate="fadeInDown">EL KSAR Hotel<br />& Resort</h2>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template carouselSlide>
    <div
      class="slider-slide-bg"
      style="
        background: url('../assets/slider/3.jpg') 100% 50%;
        z-index: 1;
        background-size: cover;
      "
    >
      <div class="container">
        <div class="slider-caption d-block position-relative h-100">
          <h3 data-animate="fadeInDown">Welcome to</h3>
          <h2 data-animate="fadeInDown">EL KSAR Hotel<br />& Resort</h2>
        </div>
      </div>
    </div>
  </ng-template>
</owl-carousel-o>

<section class="search-section bg-pattern-2">
  <div class="container search-box">
    <div class="search-category">
      <div class="row m-0 p-0">
        <div class="col-lg-2 p-0 category-box">
          <div class="category-item d-flex">
            <fa-icon class="category-icon me-3" [icon]="faHotel"></fa-icon>
            <div class="">Rooms</div>
          </div>
        </div>
        <div class="col-lg-2 p-0 category-box">
          <div class="category-item d-flex active-category">
            <fa-icon class="category-icon me-3" [icon]="faKaaba"></fa-icon>
            <div class="">Umrah</div>
          </div>
        </div>
      </div>
    </div>
    <div class="search-container d-flex flex-column">
      <div class="d-flex mb-4 z-index-3">
        <div class="category-btn">
          <input
            type="radio"
            name="omraType"
            value="package"
            id="package"
            class="form-check-input me-2 d-none"
            (change)="onChangeType()"
            [(ngModel)]="omraType"
            checked="omraType=='package'"
          />
          <label
            for="package"
            [class.category-active]="omraType == 'package'"
            class="sub-category"
            >Umrah package</label
          >
        </div>
        <div class="category-btn">
          <input
            type="radio"
            name="omraType"
            value="map"
            id="map"
            class="form-check-input me-2 d-none"
            (change)="onChangeType()"
            [(ngModel)]="omraType"
            checked="omraType=='map'"
          />
          <label
            for="map"
            [class.category-active]="omraType == 'map'"
            class="sub-category"
            >Umrah customized</label
          >
        </div>
      </div>
      <form
        *ngIf="searchFormPackage && omraType == 'package'"
        [formGroup]="searchFormPackage"
        class="first-tab z-index-3"
      >
        <div class="">
          <div class="row p-0">
            <!-- Destination -->
            <div class="col-lg-4 mb-3">
              <!-- <label class="form-label">Destination</label> -->
              <div class="dropdown w-100">
                <button
                  [class.selected-item]="searchFormPackage.value.departureCity"
                  class="btn btn-dark w-100"
                  type="button"
                  data-bs-toggle="dropdown"
                  data-bs-auto-close="outside"
                  data-bs-display="static"
                  aria-expanded="false"
                >
                  <div
                    class="d-flex me-4 justify-content-between w-100 align-items-center"
                  >
                    <div class="input-group d-flex">
                      <span class="input-group-text"
                        ><i class="icon-line-map-pin"></i
                      ></span>
                      <p
                        class="m-0"
                        *ngIf="searchFormPackage.value.departureCity"
                      >
                        {{ searchFormPackage.value.departureCity }}
                      </p>
                      <p
                        class="m-0 text-muted"
                        *ngIf="!searchFormPackage.value.departureCity"
                      >
                        Destination
                      </p>
                    </div>
                    <i class="icon-line-chevron-down"></i>
                  </div>
                </button>
                <div class="dropdown-menu animate slideIn">
                  <div class="select-container">
                    <label for="Tunis" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="departureCity"
                        id="Tunis"
                        value="Tunis"
                        formControlName="departureCity"
                      />
                      <div class="list-item">Tunis</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Djerba" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="departureCity"
                        id="Djerba"
                        value="Djerba"
                        formControlName="departureCity"
                      />
                      <div class="list-item">Djerba</div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <!-- Period -->
            <div class="col-lg-4 mb-3">
              <!-- <label class="form-label">Period</label> -->
              <div class="dropdown w-100">
                <button
                  [class.selected-item]="searchFormPackage.value.period"
                  class="btn w-100"
                  type="button"
                  data-bs-toggle="dropdown"
                  data-bs-auto-close="outside"
                  data-bs-display="static"
                  aria-expanded="false"
                >
                  <div
                    class="d-flex me-4 justify-content-between w-100 align-items-center"
                  >
                    <div class="input-group d-flex">
                      <span class="input-group-text"
                        ><i class="icon-line-calendar"></i
                      ></span>
                      <p class="m-0" *ngIf="searchFormPackage.value.period">
                        {{ searchFormPackage.value.period }}
                      </p>
                      <p
                        class="m-0 text-muted"
                        *ngIf="!searchFormPackage.value.period"
                      >
                        Period
                      </p>
                    </div>
                    <i class="icon-line-chevron-down"></i>
                  </div>
                </button>
                <div class="dropdown-menu animate slideIn">
                  <div class="select-container">
                    <label for="Mouled" class="me-3 w-100">
                      <input
                        type="radio"
                        name="period"
                        class="form-check-input me-2"
                        id="Mouled"
                        value="Mouled"
                        formControlName="period"
                      />
                      <div class="list-item">Mouled</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Ramadan" class="me-3 w-100">
                      <input
                        type="radio"
                        name="period"
                        class="form-check-input me-2"
                        id="Ramadan"
                        value="Ramadan"
                        formControlName="period"
                      />
                      <div class="list-item">Ramadan</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Chawel" class="me-3 w-100">
                      <input
                        type="radio"
                        name="period"
                        class="form-check-input me-2"
                        id="Chawel"
                        value="Chawel"
                        formControlName="period"
                      />
                      <div class="list-item">Chawel</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Winter holidays" class="me-3 w-100">
                      <input
                        type="radio"
                        name="period"
                        class="form-check-input me-2"
                        id="Winter holidays"
                        value="Winter holidays"
                        formControlName="period"
                      />
                      <div class="list-item">Winter holidays</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Vacancy Spring" class="me-3 w-100">
                      <input
                        type="radio"
                        name="period"
                        class="form-check-input me-2"
                        id="Vacancy Spring"
                        value="Vacancy Spring"
                        formControlName="period"
                      />
                      <div class="list-item">Spring holidays</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Other" class="me-3 w-100">
                      <input
                        type="radio"
                        name="period"
                        class="form-check-input me-2"
                        id="Other"
                        value="Other"
                        formControlName="period"
                      />
                      <div class="list-item">Other</div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <!-- Duration -->
            <div class="col-lg-4 mb-3">
              <!-- <label class="form-label">Duration</label> -->
              <div class="dropdown w-100">
                <button
                  [class.selected-item]="searchFormPackage.value.duration"
                  class="btn w-100"
                  type="button"
                  data-bs-toggle="dropdown"
                  data-bs-auto-close="outside"
                  data-bs-display="static"
                  aria-expanded="false"
                >
                  <div
                    class="d-flex me-4 justify-content-between w-100 align-items-center"
                  >
                    <div class="input-group d-flex">
                      <span class="input-group-text"
                        ><i class="icon-line-clock"></i
                      ></span>
                      <p class="m-0" *ngIf="searchFormPackage.value.duration">
                        {{ searchFormPackage.value.duration + " days" }}
                      </p>
                      <p
                        class="m-0 text-muted"
                        *ngIf="!searchFormPackage.value.duration"
                      >
                        Duration
                      </p>
                    </div>
                    <i class="icon-line-chevron-down"></i>
                  </div>
                </button>
                <div class="dropdown-menu animate slideIn">
                  <div class="select-container">
                    <label for="15 days" class="me-3 w-100">
                      <input
                        type="radio"
                        name="duration"
                        class="form-check-input me-2"
                        id="15 days"
                        value="15"
                        formControlName="duration"
                      />
                      <div class="list-item">15 days</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="10 days" class="me-3 w-100">
                      <input
                        type="radio"
                        name="duration"
                        class="form-check-input me-2"
                        id="10 days"
                        value="10"
                        formControlName="duration"
                      />
                      <div class="list-item">10 days</div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <!-- Flight -->
            <div class="col-lg-4 mb-3">
              <!-- <label class="form-label">Flight</label> -->
              <div class="dropdown w-100">
                <button
                  [class.selected-item]="searchFormPackage.value.flight"
                  class="btn btn-dark w-100"
                  type="button"
                  data-bs-toggle="dropdown"
                  data-bs-auto-close="outside"
                  data-bs-display="static"
                  aria-expanded="false"
                >
                  <div
                    class="d-flex me-4 justify-content-between w-100 align-items-center"
                  >
                    <div class="input-group d-flex">
                      <span class="input-group-text"
                        ><i class="icon-line2-plane"></i
                      ></span>
                      <p class="m-0" *ngIf="searchFormPackage.value.flight">
                        {{ searchFormPackage.value.flight }}
                      </p>
                      <p
                        class="m-0 text-muted"
                        *ngIf="!searchFormPackage.value.flight"
                      >
                        Flight
                      </p>
                    </div>
                    <i class="icon-line-chevron-down"></i>
                  </div>
                </button>
                <div class="dropdown-menu animate slideIn">
                  <div class="select-container">
                    <label for="Nouvelair" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="flight"
                        id="Nouvelair"
                        value="Nouvelair"
                        formControlName="flight"
                      />
                      <div class="list-item">Nouvelair</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Tunisair" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="flight"
                        id="Tunisair"
                        value="Tunisair"
                        formControlName="flight"
                      />
                      <div class="list-item">Tunisair</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Syphax" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="flight"
                        id="Syphax"
                        value="Syphax"
                        formControlName="flight"
                      />
                      <div class="list-item">Syphax Airlines</div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <!-- Passengers -->
            <div class="col-lg-8 mb-3">
              <!-- <label class="form-label">Rooms and Guests</label> -->
              <div class="dropdown dropdown-guests w-100">
                <button
                  [class.selected-item]="
                    searchFormPackage.value.passengers.length != 1 ||
                    numAdults != 1 ||
                    numChildren != 0
                  "
                  class="btn w-100"
                  type="button"
                  data-bs-toggle="dropdown"
                  data-bs-auto-close="outside"
                  data-bs-display="static"
                  aria-expanded="false"
                >
                  <div
                    class="d-flex me-4 justify-content-between w-100 align-items-center"
                  >
                    <div class="input-group d-flex">
                      <span class="input-group-text"
                        ><i class="icon-line-users"></i
                      ></span>
                      <p
                        class="m-0"
                        [class.text-muted]="
                          searchFormPackage.value.passengers.length === 1 &&
                          numAdults === 1 &&
                          numChildren === 0
                        "
                        *ngIf="searchFormPackage.value.passengers.length"
                      >
                        {{
                          searchFormPackage.value.passengers.length
                        }}&nbsp;Room{{
                          searchFormPackage.value.passengers.length > 1
                            ? "s"
                            : ""
                        }}
                        &nbsp;{{ numAdults }}&nbsp;Adult{{
                          numAdults > 1 ? "s" : ""
                        }}
                        &nbsp;{{
                          numChildren !== 0
                            ? numChildren +
                              "&nbsp;Child" +
                              (numChildren > 1 ? "ren" : "")
                            : ""
                        }}
                      </p>
                    </div>
                    <i class="icon-line-plus"></i>
                  </div>
                </button>
                <div class="dropdown-menu drop-menu-sm-margin animate slideIn">
                  <div formArrayName="passengers">
                    <div class="d-flex flex-column">
                      <div class="d-flex justify-content-between mb-3">
                        <label for="">Room</label>
                        <div
                          class="d-flex object-quantity passengers-nbr align-items-center"
                        >
                          <div class="minus" (click)="deletePassenger()">-</div>
                          <div class="quantity">{{ passengers.length }}</div>
                          <div class="plus" (click)="addPassenger()">+</div>
                        </div>
                      </div>
                    </div>
                    <div
                      *ngFor="
                        let passenger of passengers.controls;
                        let i = index
                      "
                    >
                      <div [formGroupName]="i" class="d-flex flex-column mb-1">
                        <div class="room-specifics d-flex flex-column">
                          <div class="d-flex justify-content-between">
                            <div class="room-quantity">
                              {{ passenger.get("room")?.value }}
                            </div>
                          </div>
                          <div class="room-passengers-details">
                            <div class="row">
                              <div class="col-lg-6">
                                <div
                                  class="room-adults d-flex justify-content-between align-items-center mb-2"
                                >
                                  <label for="">Adults</label>
                                  <div
                                    class="d-flex object-quantity passengers-nbr align-items-center"
                                  >
                                    <div class="minus" (click)="minusadults(i)">
                                      -
                                    </div>
                                    <div class="quantity">
                                      {{ passenger.get("adults")?.value }}
                                    </div>
                                    <div class="plus" (click)="plusadults(i)">
                                      +
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-lg-6">
                                <div
                                  class="d-flex justify-content-between align-items-center mb-2"
                                >
                                  <label for="">Children</label>
                                  <div
                                    class="d-flex object-quantity passengers-nbr align-items-center"
                                  >
                                    <div
                                      class="minus"
                                      (click)="minuschildren(i)"
                                    >
                                      -
                                    </div>
                                    <div class="quantity">
                                      {{
                                        passenger.get("children")?.value.length
                                      }}
                                    </div>
                                    <div class="plus" (click)="pluschildren(i)">
                                      +
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div
                                class="child-age col-6 mb-2"
                                formArrayName="children"
                                *ngFor="
                                  let child of children(i).controls;
                                  let k = index
                                "
                              >
                                <div [formGroupName]="k" class="dropdown">
                                  <button
                                    [class.selected-item]="
                                      child.get('age')?.value
                                    "
                                    class="btn btn-dark w-100"
                                    type="button"
                                    data-bs-toggle="dropdown"
                                    data-bs-auto-close="outside"
                                    data-bs-display="static"
                                    aria-expanded="false"
                                  >
                                    <div
                                      class="d-flex me-4 justify-content-between w-100"
                                    >
                                      <div class="select-age d-flex">
                                        <p class="m-0">
                                          {{
                                            child.get("age")?.value === ""
                                              ? "Less
                                          than one year"
                                              : child.get("age")?.value
                                          }}
                                        </p>
                                      </div>
                                      <i class="icon-line-chevron-down"></i>
                                    </div>
                                  </button>
                                  <div
                                    class="dropdown-menu dropdown-menu-end animate slideIn"
                                  >
                                    <div
                                      class="select-container"
                                      *ngFor="
                                        let item of ageNumbers;
                                        let j = index
                                      "
                                    >
                                      <input
                                        type="radio"
                                        [value]="item"
                                        [id]="'k' + k + 'j' + j"
                                        class="form-check-input me-2"
                                        formControlName="age"
                                      />
                                      <label
                                        [for]="'k' + k + 'j' + j"
                                        class="list-item w-100"
                                      >
                                        {{ item }}</label
                                      >
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3 d-flex w-100 justify-content-end">
              <button routerLink="/result/flight" class="color-btn">
                Search
              </button>
            </div>
          </div>
        </div>
      </form>

      <form
        *ngIf="searchFormMap && omraType == 'map'"
        [formGroup]="searchFormMap"
        class="d-flex flex-column second-tab z-index-3"
      >
        <div class="row p-0">
          <div class="col-lg-12 mb-3">
            <div class="d-flex">
              <div class="flight-mode-item d-flex me-3">
                <input
                  type="radio"
                  class="flight-mode d-block form-check-input me-2"
                  name="flightmode"
                  id="with"
                  value="Umrah package with flight"
                  formControlName="flightmode"
                />
                <label for="with">Umrah pack with flight</label>
              </div>
              <div class="flight-mode-item d-flex">
                <input
                  type="radio"
                  class="flight-mode d-block form-check-input me-2"
                  name="flightmode"
                  id="without"
                  value="Umrah package without flight"
                  formControlName="flightmode"
                />
                <label for="without">Umrah pack without flight</label>
              </div>
            </div>
          </div>

          <!-- Calendar -->
          <div class="col-xl-6 mb-3">
            <!-- <label class="form-label">Duration</label> -->
            <div class="dp-hidden position-absolute calendar">
              <div class="">
                <input
                  name="datepicker"
                  class="calendar-input"
                  ngbDatepicker
                  #datepicker="ngbDatepicker"
                  [autoClose]="'outside'"
                  (dateSelect)="onDateSelection($event)"
                  [displayMonths]="2"
                  [dayTemplate]="t"
                  style="border: 0; padding: 0"
                  outsideDays="hidden"
                  [startDate]="fromDate!"
                  tabindex="-1"
                />
                <ng-template #t let-date let-focused="focused">
                  <span
                    class="custom-day"
                    [class.focused]="focused"
                    [class.range]="isRange(date)"
                    [class.faded]="isHovered(date) || isInside(date)"
                    (mouseenter)="hoveredDate = date"
                    (mouseleave)="hoveredDate = null"
                  >
                    {{ date.day }}
                  </span>
                </ng-template>
              </div>
            </div>
            <button
              class="btn btn-primary d-flex date-picker-btn"
              (click)="datepicker.toggle()"
              type="button"
            >
              <div
                class="picker"
                [class.text-muted]="
                  formatter.format(fromDate) === formatter.format(todayDate) &&
                  formatter.format(toDate) === formatter.format(todayDate)
                "
              >
                <div class="input-group">
                  <span class="input-group-text"
                    ><i class="icon-line-calendar"></i
                  ></span>
                  <span class="m-0">{{
                    formatter.format(fromDate) == formatter.format(todayDate)
                      ? "Arrival Date"
                      : formatter.format(fromDate)
                  }}</span>
                </div>
              </div>
              <div
                class="picker"
                [class.text-muted]="
                  formatter.format(toDate) == formatter.format(todayDate) ||
                  !formatter.format(toDate)
                "
              >
                <div class="input-group">
                  <span class="input-group-text input-middle"
                    ><i class="icon-line-calendar"></i
                  ></span>
                  <span class="m-0">{{
                    formatter.format(toDate) == formatter.format(todayDate) ||
                    !formatter.format(toDate)
                      ? "Departure Date"
                      : formatter.format(toDate)
                  }}</span>
                </div>
              </div>
            </button>
          </div>
          <!-- Destination 1 -->
          <div class="col-xl-3 mb-3" formGroupName="firstDestination">
            <!-- <label class="form-label">First Destination</label> -->
            <div class="dropdown w-100">
              <button
                class="btn btn-dark w-100"
                type="button"
                data-bs-toggle="dropdown"
                data-bs-auto-close="outside"
                data-bs-display="static"
                aria-expanded="false"
              >
                <div
                  class="d-flex me-4 justify-content-between w-100 align-items-center"
                >
                  <div class="input-group d-flex">
                    <span class="input-group-text"
                      ><i class="icon-line-map-pin"></i
                    ></span>
                    <p class="m-0 d-none"></p>
                    <p class="m-0 text-muted">1st destination</p>
                  </div>
                  <i class="icon-line-chevron-down"></i>
                </div>
              </button>
              <div class="dropdown-menu animate slideIn">
                <div>
                  <div class="select-container">
                    <label for="Mekkah" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="destinationOne"
                        id="Mekkah"
                        value="Mekkah"
                        formControlName="destinationOne"
                      />
                      <div class="list-item">Mekkah</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Medina" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="destinationOne"
                        id="Medina"
                        value="Medina"
                        formControlName="destinationOne"
                      />
                      <div class="list-item">Medina</div>
                    </label>
                  </div>
                </div>
                <hr />
                <div
                  class="d-flex flex-column justify-content-between nights-nbr align-items-center mb-3"
                >
                  <label for="">Nights</label>
                  <div
                    class="d-flex object-quantity passengers-nbr align-items-center"
                  >
                    <div class="minus" (click)="minusNightsFirstDestionation()">
                      -
                    </div>
                    <div class="quantity">
                      {{ searchFormMap.get("firstDestination.nights")?.value }}
                    </div>
                    <div class="plus" (click)="plusNightsFirstDestionation()">
                      +
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Destination 2 -->
          <div class="col-xl-3 mb-3" formGroupName="secondDestination">
            <!-- <label class="form-label">Second destination</label> -->
            <div class="dropdown w-100">
              <button
                class="btn btn-dark w-100"
                type="button"
                data-bs-toggle="dropdown"
                data-bs-auto-close="outside"
                data-bs-display="static"
                aria-expanded="false"
              >
                <div
                  class="d-flex me-4 justify-content-between w-100 align-items-center"
                >
                  <div class="input-group d-flex">
                    <span class="input-group-text"
                      ><i class="icon-line-map-pin"></i
                    ></span>
                    <p class="m-0 d-none"></p>
                    <p class="m-0 text-muted">2nd destination</p>
                  </div>
                  <i class="icon-line-chevron-down"></i>
                </div>
              </button>
              <div class="dropdown-menu animate slideIn">
                <div class="select-container">
                  <label for="Makkah2" class="me-3 w-100">
                    <input
                      type="radio"
                      class="form-check-input me-2"
                      name="destinationTwo"
                      id="Makkah2"
                      value="Makkah"
                      formControlName="destinationTwo"
                    />
                    <div class="list-item">Makkah</div>
                  </label>
                </div>
                <div class="select-container">
                  <label for="Medinah2" class="me-3 w-100">
                    <input
                      type="radio"
                      class="form-check-input me-2"
                      name="destinationTwo"
                      id="Medinah2"
                      value="Medinah"
                      formControlName="destinationTwo"
                    />
                    <div class="list-item">Medinah</div>
                  </label>
                </div>
                <hr />
                <div
                  class="d-flex flex-column justify-content-between nights-nbr align-items-center mb-2"
                >
                  <label for="">Nights</label>
                  <div
                    class="d-flex object-quantity passengers-nbr align-items-center"
                  >
                    <div
                      class="minus"
                      (click)="minusNightsSecondDestionation()"
                    >
                      -
                    </div>
                    <div class="quantity">
                      {{ searchFormMap.get("secondDestination.nights")?.value }}
                    </div>
                    <div class="plus" (click)="plusNightsSecondDestionation()">
                      +
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Passengers -->
          <div class="col-lg-6 mb-3">
            <!-- <label class="form-label">Rooms and guests</label> -->
            <div class="dropdown dropdown-guests w-100">
              <button
                [class.selected-item]="
                  searchFormMap.value.passengersmap.length != 1 ||
                  numAdultsMap != 1 ||
                  numChildrenMap != 0
                "
                class="btn w-100"
                type="button"
                data-bs-toggle="dropdown"
                data-bs-auto-close="outside"
                data-bs-display="static"
                aria-expanded="false"
              >
                <div
                  class="d-flex me-4 justify-content-between w-100 align-items-center"
                >
                  <div class="input-group d-flex">
                    <span class="input-group-text"
                      ><i class="icon-line-users"></i
                    ></span>
                    <p
                      class="m-0"
                      [class.text-muted]="
                        searchFormMap.value.passengersmap.length === 1 &&
                        numAdultsMap === 1 &&
                        numChildrenMap === 0
                      "
                      *ngIf="searchFormMap.value.passengersmap.length"
                    >
                      {{ searchFormMap.value.passengersmap.length }}&nbsp;Room{{
                        searchFormMap.value.passengersmap.length > 1 ? "s" : ""
                      }}
                      &nbsp;{{ numAdultsMap }}&nbsp;Adult{{
                        numAdultsMap > 1 ? "s" : ""
                      }}
                      &nbsp;{{
                        numChildrenMap !== 0
                          ? numChildrenMap +
                            "&nbsp;Child" +
                            (numChildrenMap > 1 ? "ren" : "")
                          : ""
                      }}
                    </p>
                  </div>
                  <i class="icon-line-plus"></i>
                </div>
              </button>
              <div class="dropdown-menu drop-menu-sm-margin animate slideIn">
                <div formArrayName="passengersmap">
                  <div class="d-flex flex-column">
                    <div
                      class="d-flex justify-content-between align-items-center mb-3"
                    >
                      <label for="">Room</label>
                      <div
                        class="d-flex object-quantity passengers-nbr align-items-center"
                      >
                        <div class="minus" (click)="deletePassengermap()">
                          -
                        </div>
                        <div class="quantity">{{ passengersmap.length }}</div>
                        <div class="plus" (click)="addPassengermap()">+</div>
                      </div>
                    </div>
                  </div>
                  <div
                    *ngFor="
                      let passenger of passengersmap.controls;
                      let i = index
                    "
                  >
                    <div [formGroupName]="i" class="d-flex flex-column mb-1">
                      <div class="room-specifics d-flex flex-column">
                        <div class="d-flex justify-content-between">
                          <div class="room-quantity">
                            {{ passenger.get("room")?.value }}
                          </div>
                        </div>
                        <div class="room-passengers-details">
                          <div class="row">
                            <div class="col-lg-6">
                              <div
                                class="room-adults d-flex justify-content-between align-items-center mb-2"
                              >
                                <label for="">Adults</label>
                                <div
                                  class="d-flex object-quantity passengers-nbr align-items-center"
                                >
                                  <div
                                    class="minus"
                                    (click)="minusadultsmap(i)"
                                  >
                                    -
                                  </div>
                                  <div class="quantity">
                                    {{ passenger.get("adults")?.value }}
                                  </div>
                                  <div class="plus" (click)="plusadultsmap(i)">
                                    +
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-lg-6">
                              <div
                                class="d-flex justify-content-between align-items-center mb-2"
                              >
                                <label for="">Children</label>
                                <div
                                  class="d-flex object-quantity passengers-nbr align-items-center"
                                >
                                  <div
                                    class="minus"
                                    (click)="minuschildrenmap(i)"
                                  >
                                    -
                                  </div>
                                  <div class="quantity">
                                    {{
                                      passenger.get("childrenmap")?.value.length
                                    }}
                                  </div>
                                  <div
                                    class="plus"
                                    (click)="pluschildrenmap(i)"
                                  >
                                    +
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div
                              class="child-age col-6 mb-2"
                              formArrayName="childrenmap"
                              *ngFor="
                                let child of childrenmap(i).controls;
                                let k = index
                              "
                            >
                              <div [formGroupName]="k" class="dropdown">
                                <button
                                  [class.selected-item]="
                                    child.get('age')?.value
                                  "
                                  class="btn btn-dark w-100"
                                  type="button"
                                  data-bs-toggle="dropdown"
                                  data-bs-auto-close="outside"
                                  data-bs-display="static"
                                  aria-expanded="false"
                                >
                                  <div
                                    class="d-flex me-4 justify-content-between w-100"
                                  >
                                    <div class="select-age d-flex">
                                      <p class="m-0">
                                        {{
                                          child.get("age")?.value === ""
                                            ? "Less
                                        than one year"
                                            : child.get("age")?.value
                                        }}
                                      </p>
                                    </div>
                                    <i class="icon-line-chevron-down"></i>
                                  </div>
                                </button>
                                <div
                                  class="dropdown-menu dropdown-menu-end animate slideIn"
                                >
                                  <div
                                    class="select-container"
                                    *ngFor="
                                      let item of ageNumbers;
                                      let j = index
                                    "
                                  >
                                    <input
                                      type="radio"
                                      [value]="item"
                                      [id]="'k' + k + 'j' + j"
                                      class="form-check-input me-2"
                                      formControlName="age"
                                    />
                                    <label
                                      [for]="'k' + k + 'j' + j"
                                      class="list-item w-100"
                                    >
                                      {{ item }}</label
                                    >
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Route -->
          <div class="col-lg-6 mb-3">
            <!-- <label class="form-label">Route</label> -->
            <div class="dropdown w-100">
              <button
                class="btn btn-dark w-100"
                type="button"
                data-bs-toggle="dropdown"
                data-bs-auto-close="outside"
                data-bs-display="static"
                aria-expanded="false"
              >
                <div
                  class="d-flex me-4 justify-content-between w-100 align-items-center"
                >
                  <div class="input-group d-flex">
                    <span class="input-group-text"
                      ><i class="icon-line-briefcase"></i
                    ></span>
                    <p class="m-0 d-none"></p>
                    <p class="m-0 text-muted">Route</p>
                  </div>
                  <i class="icon-line-chevron-down"></i>
                </div>
              </button>
              <div class="dropdown-menu animate slideIn">
                <div>
                  <div class="select-container">
                    <label for="firstPath" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="path"
                        id="firstPath"
                        value="Jeddah - Makkah - Madinah - Madinah Airport"
                        formControlName="path"
                      />
                      <div class="list-item">
                        Jeddah - Makkah - Madinah - Madinah Airport
                      </div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="SecondPath" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="path"
                        id="SecondPath"
                        value="Jeddah - Makkah - Jeddah"
                        formControlName="path"
                      />
                      <div class="list-item">Jeddah - Makkah - Jeddah</div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Place of departure -->
          <div
            class="col-lg-4 mb-3"
            *ngIf="
              searchFormMap.value.flightmode === 'Umrah package with flight'
            "
          >
            <!-- <label class="form-label">Place of departure</label> -->
            <div class="dropdown w-100">
              <button
                class="btn btn-dark w-100"
                type="button"
                data-bs-toggle="dropdown"
                data-bs-auto-close="outside"
                data-bs-display="static"
                aria-expanded="false"
              >
                <div
                  class="d-flex me-4 justify-content-between w-100 align-items-center"
                >
                  <div class="input-group d-flex">
                    <span class="input-group-text"
                      ><i class="icon-line-map-pin"></i
                    ></span>
                    <p class="m-0 d-none"></p>
                    <p class="m-0 text-muted">Place of departure</p>
                  </div>
                  <i class="icon-line-chevron-down"></i>
                </div>
              </button>
              <div class="dropdown-menu animate slideIn">
                <div>
                  <div class="select-container">
                    <label for="Tunisia" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="departureCountry"
                        id="Tunisia"
                        value="Tunisia"
                        formControlName="departureCountry"
                      />
                      <div class="list-item">Tunisia</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Algeria" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="departureCountry"
                        id="Algeria"
                        value="Algeria"
                        formControlName="departureCountry"
                      />
                      <div class="list-item">Algeria</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Morocco" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="departureCountry"
                        id="Morocco"
                        value="Morocco"
                        formControlName="departureCountry"
                      />
                      <div class="list-item">Morocco</div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Nationality -->
          <div class="col-lg-4 mb-3">
            <!-- <label class="form-label">Nationality</label> -->
            <div class="dropdown w-100">
              <button
                class="btn btn-dark w-100"
                type="button"
                data-bs-toggle="dropdown"
                data-bs-auto-close="outside"
                data-bs-display="static"
                aria-expanded="false"
              >
                <div
                  class="d-flex me-4 justify-content-between w-100 align-items-center"
                >
                  <div class="input-group d-flex">
                    <span class="input-group-text"
                      ><i class="icon-line-map-pin"></i
                    ></span>
                    <p class="m-0 d-none"></p>
                    <p class="m-0 text-muted">Nationality</p>
                  </div>
                  <i class="icon-line-chevron-down"></i>
                </div>
              </button>
              <div class="dropdown-menu animate slideIn">
                <div>
                  <div class="select-container">
                    <label for="Tunisia" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="nationality"
                        id="Tunisia"
                        value="Tunisia"
                        formControlName="nationality"
                      />
                      <div class="list-item">Tunisia</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Algeria" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="nationality"
                        id="Algeria"
                        value="Algeria"
                        formControlName="nationality"
                      />
                      <div class="list-item">Algeria</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Morocco" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="nationality"
                        id="Morocco"
                        value="Morocco"
                        formControlName="nationality"
                      />
                      <div class="list-item">Morocco</div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Country -->
          <div class="col-lg-4 mb-3">
            <!-- <label class="form-label">Country</label> -->
            <div class="dropdown w-100">
              <button
                class="btn btn-dark w-100"
                type="button"
                data-bs-toggle="dropdown"
                data-bs-auto-close="outside"
                data-bs-display="static"
                aria-expanded="false"
              >
                <div
                  class="d-flex me-4 justify-content-between w-100 align-items-center"
                >
                  <div class="input-group d-flex">
                    <span class="input-group-text" id="basic-addon1"
                      ><i class="icon-line-map-pin"></i
                    ></span>
                    <p class="m-0 d-none"></p>
                    <p class="m-0 text-muted">Country</p>
                  </div>
                  <div><i class="icon-line-chevron-down"></i></div>
                </div>
              </button>
              <div class="dropdown-menu animate slideIn">
                <div>
                  <div class="select-container">
                    <label for="Tunisia" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="residenceCountry"
                        id="Tunisia"
                        value="Tunisia"
                        formControlName="residenceCountry"
                      />
                      <div class="list-item">Tunisia</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Algeria" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="residenceCountry"
                        id="Algeria"
                        value="Algeria"
                        formControlName="residenceCountry"
                      />
                      <div class="list-item">Algeria</div>
                    </label>
                  </div>
                  <div class="select-container">
                    <label for="Morocco" class="me-3 w-100">
                      <input
                        type="radio"
                        class="form-check-input me-2"
                        name="residenceCountry"
                        id="Morocco"
                        value="Morocco"
                        formControlName="residenceCountry"
                      />
                      <div class="list-item">Morocco</div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-3 d-flex w-100 justify-content-end">
            <button routerLink="/result/flight" class="color-btn">
              Search
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</section>

<!-- <hr />
<br>
<br>
<br>
<br>
<pre>Search form : {{searchFormMap?.value | json}}</pre>
<pre>From date model: {{ fromDate | json }}</pre>
<pre>To date model: {{ toDate | json }}</pre> -->
