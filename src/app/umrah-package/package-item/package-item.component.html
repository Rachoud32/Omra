<div class="row gy-5">
    <div class="col-xl-4 col-lg-4" *ngFor="let package of dataPackages;let i = index">
        <div class="package-item">
            <div class="image-box package-picture-container">
                <div class="carousel slide carousel-fade" data-bs-ride="carousel" [attr.id]="'packagecarousel-'+i">
                    <div class="carousel-inner">
                        <div *ngFor="let image of package.packagePictures ;let j=index" class="carousel-item active"
                            data-bs-interval="4000">
                            <img src={{image}} class="package-picture d-block w-100" alt="" />
                        </div>
                    </div>
                    <div class="package-best-labels d-flex align-items-center column-gap-2">
                        <div class="package-label bestoffer d-flex align-items-center" *ngIf="package.packagePrice == getMinPrice()">
                            Best Rate
                        </div>
                        <div class="package-label toprated d-flex align-items-center" *ngIf="package.packageRating == getMaxRating()">
                            Top Rated
                        </div>
                        <div class="package-label promo d-flex align-items-center" *ngIf="package.packagepromo.length != ''">
                            {{package.packagepromo}}
                        </div>
                    </div>
                    <div class="carousel-controls" *ngIf="package.packagePictures.length > 1">
                        <button class="carousel-control-prev" type="button"
                            [attr.data-bs-target]="'#packagecarousel-'+i" data-bs-slide="prev">
                            <i class="icon-line-chevron-left"></i>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button"
                            [attr.data-bs-target]="'#packagecarousel-'+i" data-bs-slide="next">
                            <i class="icon-line-chevron-right"></i>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="package-more-details px-3 my-3">
                <div class="d-flex flex-column justify-content-between">
                    <div>
                        <div class="d-flex align-items-center mb-1">
                            <h5 class="package-title lh-base">{{package.packageTitle}}</h5>
                        </div>
                        <div class="package-details">
                            <div class="d-flex flex-wrap align-items-center gap-2">
                                <div class="package-type lh-base">
                                    <p class="m-0">{{package.packageType}}</p>
                                </div>
                                <div class="package-theme lh-base" *ngFor="let theme of package.packageTheme">
                                    <p class="m-0">{{theme}}</p>
                                </div>
                            </div> 
                        </div>
                        <hr>
                        <div class="package-details">    
                            <div class="package-place flex-wrap lh-base d-flex align-items-center gap-2 mb-2">
                                <i class="icon-line-map-pin"></i>
                                <p class="m-0 ">{{package.packagePlace}}</p>
                            </div>
                            <div class="d-flex align-items-center gap-2">    
                                <div class="package-date lh-base d-flex align-items-center gap-2">
                                    <i class="icon-line-calendar"></i>
                                    <p class="m-0 ">{{package.packageDate}}</p>
                                </div>
                                <div class="package-period lh-base d-flex align-items-center gap-2">
                                    <i class="icon-line-moon"></i>
                                    <p class="m-0 ">{{package.packagePeriod}} days</p>
                                </div>
                            </div>
                            <hr>
                            <div class="package-services lh-base">
                                <div class="d-flex align-items-center mb-2 gap-1">
                                    <i class="icon-line-chevron-right"></i>
                                    <p class="package-include mb-2">Included Services</p>
                                </div>
                                <div class="d-flex flex-wrap align-items-center justify-content-start column-gap-2 row-gap-2">
                                    <div class="service-icon" *ngFor="let service of package.packageServices">
                                        <img src="assets/package/icons/flights-icon.svg" alt="" *ngIf="service == 'Flights'" />
                                        <img src="assets/package/icons/hotels-icon.svg" alt="" *ngIf="service == 'Hotels'" />
                                        <img src="assets/package/icons/transfers-icon.svg" alt="" *ngIf="service == 'Transfers'" />
                                        <img src="assets/package/icons/tours-icon.svg" alt="" *ngIf="service == 'Tours'" />
                                        <img src="assets/package/icons/extras-icon.svg" alt="" *ngIf="service == 'Extras'" />
                                        <img src="assets/package/icons/activities-icon.svg" alt="" *ngIf="service == 'Activities'" />
                                        <p class="mb-0">{{service}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="d-flex flex-column align-items-end justify-content-between mb-3">
                            <div class="package-price-card d-flex align-items-end justify-content-between">
                                <div class="package-rating d-flex flex-column align-items-start lh-base gap-2">
                                    <div class="package-offer d-flex align-items-center gap-2">
                                        <i class="icon-line-bell"></i>
                                        {{package.packagedisponiblity}} offers left
                                    </div>
                                    <div class="d-flex align-items-center gap-2">
                                        <div class="d-flex align-items-center">
                                            <ngx-stars [readonly]="true" [size]="1" [maxStars]="5"
                                                [initialStars]='package.packageRating' [color]="'#f4c253'"></ngx-stars>
                                        </div>
                                        <div class="d-flex align-items-center gap-1">
                                            <p class="mb-0">{{package.packageRating}}</p>
                                            <p class="mb-0">(207)</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex flex-column justify-content-start align-items-end">
                                    <p class="lh-base m-0 text-end color">Price starts from</p>
                                    <div class="package-price text-end">
                                        <span>$</span>{{package.packagePrice}}
                                    </div>
                                    <p class="package-reservation-specs text-end lh-base">
                                        {{package.packageNbrRoom}} room - {{package.packageNbrPassengers}} guest
                                    </p>
                                </div>
                                
                            </div>
                        </div>         
                    </div>                         
                    <button type="button" class="color-btn service-btn-select float-end w-100"
                    [routerLink]="['package/'+package._id]"
                    routerLinkActive="router-link-active">Discover</button>
                </div>
            </div>
        </div>  
        
    </div>
    <div class="col-xl-4 col-lg-4 mx-auto">
        <button class="color-btn show-more w-100">Show more</button>
    </div>  
</div>
